knitr::kable(data, booktabs = TRUE,...)
}
library(readr)
library(huxtable)
library(dplyr)
library(tidyr)
library(knitr)
library(ggplot2)
library(ggthemes)
library(jsonlite)
library(kableExtra)
library(psych)
library(lme4)
### global plot themeing
theme_set(
theme_tufte() +
theme(
plot.background = element_rect(fill = bgcolor,color=bgcolor),
panel.border = element_blank()
)
)
ccombo <- read_csv("export/ccombo.csv")
rownames(ccombo)<-c("Both breaks", "OBJ break only", "PP1 break only")
library(dplyr)
library(kableExtra)
kable(
ccombo,
caption="Percent occurrence of break patterns in Reading 2 as a function of sentence type.",
col.names=c("D","Q","D","Q"),
align="c") %>%
add_header_above(c(" "=1,"Mod" = 2, "Arg"=2)) %>%
column_spec(1,bold=T) %>% kable_styling(latex_options = "hold_position")
knitr::opts_chunk$set(
echo=FALSE,
warning=FALSE,
message=FALSE,
fig.height = 3,
fig.pos="H"
)
options(tinytex.verbose = TRUE)
bgcolor <- "#ffffff"
par(bg = bgcolor)
kable <- function(data,...) {
knitr::kable(data, booktabs = TRUE,...)
}
library(readr)
library(huxtable)
library(dplyr)
library(tidyr)
library(knitr)
library(ggplot2)
library(ggthemes)
library(jsonlite)
library(kableExtra)
library(psych)
library(lme4)
### global plot themeing
theme_set(
theme_tufte() +
theme(
plot.background = element_rect(fill = bgcolor,color=bgcolor),
panel.border = element_blank()
)
)
ccombo <- read_csv("export/ccombo.csv")
rownames(ccombo)<-c("Both breaks", "OBJ break only", "PP1 break only")
ccombo <- ccombo %>% arrange(desc(ccombo[[1]]))
ccombo
ccombo <- ccombo %>% arrange(ccombo[[1]])
ccombo
knitr::opts_chunk$set(
echo=FALSE,
warning=FALSE,
message=FALSE,
fig.height = 3,
fig.pos="H"
)
options(tinytex.verbose = TRUE)
bgcolor <- "#ffffff"
par(bg = bgcolor)
kable <- function(data,...) {
knitr::kable(data, booktabs = TRUE,...)
}
library(readr)
library(huxtable)
library(dplyr)
library(tidyr)
library(knitr)
library(ggplot2)
library(ggthemes)
library(jsonlite)
library(kableExtra)
library(psych)
library(lme4)
### global plot themeing
theme_set(
theme_tufte() +
theme(
plot.background = element_rect(fill = bgcolor,color=bgcolor),
panel.border = element_blank()
)
)
ccombo <- read_csv("export/ccombo.csv")
rownames(ccombo)<-c("Both breaks", "OBJ break only", "PP1 break only")
ccombo <- ccombo %>% arrange(ccombo[[4]])
ccombo
knitr::opts_chunk$set(
echo=FALSE,
warning=FALSE,
message=FALSE,
fig.height = 3,
fig.pos="H"
)
options(tinytex.verbose = TRUE)
bgcolor <- "#ffffff"
par(bg = bgcolor)
kable <- function(data,...) {
knitr::kable(data, booktabs = TRUE,...)
}
library(readr)
library(huxtable)
library(dplyr)
library(tidyr)
library(knitr)
library(ggplot2)
library(ggthemes)
library(jsonlite)
library(kableExtra)
library(psych)
library(lme4)
### global plot themeing
theme_set(
theme_tufte() +
theme(
plot.background = element_rect(fill = bgcolor,color=bgcolor),
panel.border = element_blank()
)
)
ccombo <- read_csv("export/ccombo.csv")
rownames(ccombo)<-c("Both breaks", "OBJ break only", "PP1 break only")
ccombo$order <- c(2,1,3)
ccombo <- ccombo %>% arrange(order)
ccombo
rownames(ccombo)<-c("OBJ break only", "Both breaks", "PP1 break only")
ccombo
ccombo <- ccombo %>% arrange(order)%>%as.data.frame()
rownames(ccombo)<-c("OBJ break only", "Both breaks", "PP1 break only")
ccombo
ccombo$order <- NULL
ccombo
library(dplyr)
library(kableExtra)
kable(
ccombo,
caption="Percent occurrence of break patterns in Reading 2 as a function of sentence type.",
col.names=c("D","Q","D","Q"),
align="c") %>%
add_header_above(c(" "=1,"Mod" = 2, "Arg"=2)) %>%
column_spec(1,bold=T) %>% kable_styling(latex_options = "hold_position")
r2pdata<-droplevels(subset(mdata,Reading==2 & simple2lvl != "NEITHER"))
qdata <- subset(r2pdata,PP2Status=="Arg")
ddata <- subset(r2pdata,PP2Status=="Mod")
qpros<-table(qdata$simple2lvl,qdata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
dpros<-table(ddata$simple2lvl,ddata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
r2combo<-as.data.frame(cbind(dpros,qpros))
write_csv(r2combo,"export/ccombo.csv")
r1pdata<-droplevels(subset(mdata,Reading==1 & simple2lvl != "NEITHER"))
qdata <- subset(r1pdata,PP2Status=="Arg")
ddata <- subset(r1pdata,PP2Status=="Mod")
qpros<-table(qdata$simple2lvl,qdata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
dpros<-table(ddata$simple2lvl,ddata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
r1combo<-as.data.frame(cbind(dpros,qpros))
bothrbothb <- cbind(r1combo,r2combo)
bothrbothb <- bothrbothb %>% as_tibble(.name_repair = "unique")
row.names(bothrbothb) <- c("2Both","1OBJ","3PP1")
bothrbothb<-arrange(bothrbothb,row.names(bothrbothb))
row.names(bothrbothb) <- c("OBJ only","Both","PP1 only")
kable(
bothrbothb,
caption="Percent occurrence of both breaks as a function of sentence type and Reading.",
align="c",
col.names=rep(c("D","Q"),4)
) %>%
add_header_above(c(" "=1,rep(c("Mod" = 2, "Arg"=2),2))) %>%
add_header_above(c(" "=1, "Reading 1" = 4, "Reading 2" = 4)) %>%
column_spec(1,bold=T)%>% kable_styling(latex_options = "hold_position")
library(scales)
### r2
r2data <- subset(mdata,Reading==2)
pp1tab<-xtabs(PP1 ~ PP2Status + SpeechAct, data=r2data)
objtab<-xtabs(OBJ ~  PP2Status + SpeechAct, data=r2data)
tot<-as.data.frame(xtabs( ~  PP2Status + SpeechAct, data=r2data))
pp1<-as.data.frame(pp1tab)
pp1$tot<-tot$Freq
pp1$pct <- pp1$Freq/pp1$tot
pp1$pretty <- paste0(
pp1$Freq,
" (",
sprintf("%.1f",pp1$pct * 100),
"%)"
)
pp1disp <- pp1 %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
obj<-as.data.frame(objtab)
obj$tot<-tot$Freq
obj$pct <- obj$Freq/obj$tot
obj$pretty <- sprintf("%s (%d)",percent(obj$pct),obj$Freq)
objdisp <- obj %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
pp1obj <- cbind(pp1disp,objdisp[2:3])
r2pp1<-pp1disp
r2obj<-objdisp
### r1
r1data <- subset(mdata,Reading==1)
pp1tab<-xtabs(PP1 ~ PP2Status + SpeechAct, data=r1data)
objtab<-xtabs(OBJ ~  PP2Status + SpeechAct, data=r1data)
tot<-as.data.frame(xtabs( ~  PP2Status + SpeechAct, data=r1data))
pp1<-as.data.frame(pp1tab)
pp1$tot<-tot$Freq
pp1$pct <- pp1$Freq/pp1$tot
pp1$pretty <- sprintf("%s (%d)",percent(pp1$pct),pp1$Freq)
pp1disp <- pp1 %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
obj<-as.data.frame(objtab)
obj$tot<-tot$Freq
obj$pct <- obj$Freq/obj$tot
obj$pretty <- sprintf("%s (%d)",percent(obj$pct),obj$Freq)
objdisp <- obj %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
pp1objr1 <- cbind(pp1disp,objdisp[2:3])
r1pp1<-pp1disp
r1obj<-objdisp
pp1<-cbind(r1pp1,r2pp1[2:3])
obj<-cbind(r1obj,r2obj[2:3])
kable(
obj,
caption="Percent occurrence of OBJ break (frequency of occurrence in parenthesis) as a function of sentence type and Reading.",
col.names = c("", "D", "Q","D", "Q"),
align="c"
) %>%
add_header_above(c(" "=1,"Reading 1"=2,"Reading 2"=2)) %>%
kable_styling(latex_options = c("hold_position"))
kable(
pp1,
caption="Percent occurrence of PP1 break (frequency of occurrence in parenthesis) as a function of sentence type and Reading.",
col.names = c("", "D", "Q","D", "Q"),
align="c"
) %>%
add_header_above(c(" "=1,"Reading 1"=2,"Reading 2"=2)) %>%
kable_styling(latex_options = c("hold_position"))
totDisp
library(tidyr)
tot<-as.data.frame(xtabs( ~ PP2Status + SpeechAct, data=mdata))
gtot <- tot
totDisp <- gtot %>% as.data.frame() %>%
spread(SpeechAct,Freq) %>% arrangge(-PP2Status)
library(tidyr)
tot<-as.data.frame(xtabs( ~ PP2Status + SpeechAct, data=mdata))
gtot <- tot
totDisp <- gtot %>% as.data.frame() %>%
spread(SpeechAct,Freq) %>% arrange(-PP2Status)
kable(
totDisp,
caption="Number of recordings analyzed, as a function of Speech Act and PP2 Status.",
align="c",
col.names=c(" ","D","Q")
) %>% kable_styling(latex_options = c("hold_position"))
library(tidyr)
tot<-as.data.frame(xtabs( ~ PP2Status + SpeechAct, data=mdata))
gtot <- tot
totDisp <- gtot %>% as.data.frame() %>%
spread(SpeechAct,Freq) %>% arrange(desc(PP2Status))
kable(
totDisp,
caption="Number of recordings analyzed, as a function of Speech Act and PP2 Status.",
align="c",
col.names=c(" ","D","Q")
) %>% kable_styling(latex_options = c("hold_position"))
obj
obj <-obj %>%  arrange(desc(PP2Status))
obj <-obj %>%  arrange(desc(PP2Status), .name_repair = "unique")
obj
names(obj)
names(obj)[2:5] <- c(2:5)
obj <-obj %>%  arrange(desc(PP2Status), .name_repair = "unique")
names(obj)
library(scales)
### r2
r2data <- subset(mdata,Reading==2)
pp1tab<-xtabs(PP1 ~ PP2Status + SpeechAct, data=r2data)
objtab<-xtabs(OBJ ~  PP2Status + SpeechAct, data=r2data)
tot<-as.data.frame(xtabs( ~  PP2Status + SpeechAct, data=r2data))
pp1<-as.data.frame(pp1tab)
pp1$tot<-tot$Freq
pp1$pct <- pp1$Freq/pp1$tot
pp1$pretty <- paste0(
pp1$Freq,
" (",
sprintf("%.1f",pp1$pct * 100),
"%)"
)
pp1disp <- pp1 %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
obj<-as.data.frame(objtab)
obj$tot<-tot$Freq
obj$pct <- obj$Freq/obj$tot
obj$pretty <- sprintf("%s (%d)",percent(obj$pct),obj$Freq)
objdisp <- obj %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
pp1obj <- cbind(pp1disp,objdisp[2:3])
r2pp1<-pp1disp
r2obj<-objdisp
### r1
r1data <- subset(mdata,Reading==1)
pp1tab<-xtabs(PP1 ~ PP2Status + SpeechAct, data=r1data)
objtab<-xtabs(OBJ ~  PP2Status + SpeechAct, data=r1data)
tot<-as.data.frame(xtabs( ~  PP2Status + SpeechAct, data=r1data))
pp1<-as.data.frame(pp1tab)
pp1$tot<-tot$Freq
pp1$pct <- pp1$Freq/pp1$tot
pp1$pretty <- sprintf("%s (%d)",percent(pp1$pct),pp1$Freq)
pp1disp <- pp1 %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
obj<-as.data.frame(objtab)
obj$tot<-tot$Freq
obj$pct <- obj$Freq/obj$tot
obj$pretty <- sprintf("%s (%d)",percent(obj$pct),obj$Freq)
objdisp <- obj %>%
subset(select=c(
"PP2Status",
"SpeechAct",
"pretty"
)) %>%
spread(SpeechAct,pretty)
pp1objr1 <- cbind(pp1disp,objdisp[2:3])
r1pp1<-pp1disp
r1obj<-objdisp
pp1<-cbind(r1pp1,r2pp1[2:3])
obj<-cbind(r1obj,r2obj[2:3])
obj
names(obj)[2:5] <- c(2:5)
obj
names(obj)[2:5] <- c(2:5)
obj <-obj %>%  arrange(desc(PP2Status), .name_repair = "unique")
names(obj)[2:5] <- c(2:5)
obj <-obj %>%  arrange(desc(PP2Status))
kable(
obj,
caption="Percent occurrence of OBJ break (frequency of occurrence in parenthesis) as a function of sentence type and Reading.",
col.names = c("", "D", "Q","D", "Q"),
align="c"
) %>%
add_header_above(c(" "=1,"Reading 1"=2,"Reading 2"=2)) %>%
kable_styling(latex_options = c("hold_position"))
names(pp1)[2:5] <- c(2:5)
pp1 <-pp1 %>%  arrange(desc(PP2Status))
kable(
pp1,
caption="Percent occurrence of PP1 break (frequency of occurrence in parenthesis) as a function of sentence type and Reading.",
col.names = c("", "D", "Q","D", "Q"),
align="c"
) %>%
add_header_above(c(" "=1,"Reading 1"=2,"Reading 2"=2)) %>%
kable_styling(latex_options = c("hold_position"))
r2pdata<-droplevels(subset(mdata,Reading==2 & simple2lvl != "NEITHER"))
qdata <- subset(r2pdata,PP2Status=="Arg")
ddata <- subset(r2pdata,PP2Status=="Mod")
qpros<-table(qdata$simple2lvl,qdata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
dpros<-table(ddata$simple2lvl,ddata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
r2combo<-as.data.frame(cbind(dpros,qpros))
write_csv(r2combo,"export/ccombo.csv")
r1pdata<-droplevels(subset(mdata,Reading==1 & simple2lvl != "NEITHER"))
qdata <- subset(r1pdata,PP2Status=="Arg")
ddata <- subset(r1pdata,PP2Status=="Mod")
qpros<-table(qdata$simple2lvl,qdata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
dpros<-table(ddata$simple2lvl,ddata$SpeechAct) %>%
prop.table(margin=2) %>% apply(2,percent)
r1combo<-as.data.frame(cbind(dpros,qpros))
bothrbothb <- cbind(r1combo,r2combo)
bothrbothb <- bothrbothb %>% as_tibble(.name_repair = "unique")
row.names(bothrbothb) <- c("2Both","1OBJ","3PP1")
bothrbothb<-arrange(bothrbothb,row.names(bothrbothb))
row.names(bothrbothb) <- c("OBJ only","Both","PP1 only")
kable(
bothrbothb,
caption="Percent occurrence of both breaks as a function of sentence type and Reading.",
align="c",
col.names=rep(c("D","Q"),4)
) %>%
add_header_above(c(" "=1,rep(c("Mod" = 2, "Arg"=2),2))) %>%
add_header_above(c(" "=1, "Reading 1" = 4, "Reading 2" = 4)) %>%
column_spec(1,bold=T)%>% kable_styling(latex_options = "hold_position")
mdata$SentenceType <- paste(mdata$SpeechAct,mdata$PP2Status)
adata <- subset(mdata,simple2lvl!="NEITHER")
adata$reading <- paste("Reading", adata$Reading)
ggplot(adata,
aes(
x=reorder(SentenceType, sto(SentenceType)),
y=..count..,
fill=reorder(
simple2lvl,
ifelse(simple2lvl=="PP1", 3, ifelse(simple2lvl=="OBJ",1,2))
)
)) +
geom_bar(position="fill",color="black",width=0.5) +
labs(fill="Pattern",x=" ",y=" ") +
facet_grid(cols = vars(reading)) +
scale_y_continuous(labels=scales::percent) +
scale_fill_brewer(breaks=c("OBJ", "BOTH", "PP1"), palette="Greys")
ggsave("bothbreaks2.pdf",height=3.75,device=cairo_pdf)
library(ggplot2)
library(ggthemes)
library(extrafont)
adata <- subset(mdata,simple2lvl!="NEITHER")
adata$reading <- paste("Reading", adata$Reading)
adata$dom <- ifelse(adata$pdom,"PP1",ifelse(adata$odom,"OBJ","Equal strength"))
ggplot(adata,
aes(
x=reorder(SentenceType, sto(SentenceType)),
y=..count..,
fill=reorder(
dom,
ifelse(simple2lvl=="OBJ", 1, ifelse(simple2lvl=="PP1",3,2))
)
)) +
geom_bar(position="fill",color="black",width=0.5) +
labs(fill="Dominant break",x="Sentence Type",y="Percent where dominant") +
facet_grid(cols = vars(reading)) +
scale_y_continuous(labels=scales::percent) +
scale_fill_brewer(breaks=c("PP1", "Equal strength", "OBJ"), palette="Greys")
ggsave("bdom.pdf",device=cairo_pdf)
csv <- '
Outcome: OBJ break (FULL),Estimate,Std. Error,p
"D Mod, Reading 1 (Intercept)",0.70,0.09,< 0.001
Q,0.11,0.11,0.34
Arg,-0.28,0.11,< 0.05
Reading 2,0.07,0.05,0.15
Q:Arg,-0.14,0.16,0.39
Q:Reading2,-0.11,0.07,0.12
Arg:Reading2,0.08,0.07,0.27
Q:Arg:Reading2,0.13,0.10,0.19
'
tab <- read_csv(csv,na=character())
tab %>% kable(
align="rccc",
caption="Mixed effects logistic regression model predicting OBJ break occurrence (FULL)."
) %>%
row_spec(0,align="c") %>%
kable_styling(latex_options = "hold_position")
16*2*32
knitr::opts_chunk$set(
echo = FALSE,
fig.height = 3,
message = FALSE,
warning = FALSE
)
library(readr)
library(jsonlite)
library(dplyr)
library(knitr)
library(kableExtra)
library(pander)
kable<-function (data,...){
if(is_html_output() | is_latex_output()) {
return (knitr::kable(data,...))
} else {
return (pander(data))
}
}
1024-978
