)
)) +
geom_bar(position="fill",color="black",width=0.5) +
labs(fill="Pattern",x=" ",y=" ",caption="FAST n=12, SLOW n = 12") +
facet_grid(rows = vars(reading),cols=vars(r1DelCat)) +
scale_y_continuous(labels=scales::percent) +
scale_fill_brewer(breaks=c("PP1", "BOTH", "OBJ"), palette="Greys")
ggsave("facet.pdf",device=cairo_pdf())
r1data<-subset(adata,Reading==1)
fast <- subset(r1data,r1DelCat == "FAST")
slow <- subset(r1data,r1DelCat == "SLOW")
fastTabN <- xtabs(~simple2lvl + condition, data=fast) %>%
as.data.frame() %>%
spread(condition, Freq)
slowTabN <- xtabs(~simple2lvl + condition, data=slow) %>%
as.data.frame() %>%
spread(condition, Freq)
fastTab <- xtabs(~simple2lvl + condition, data=fast) %>%
prop.table(margin=2) %>%
as.data.frame() %>%
spread(condition, Freq)
slowTab <- xtabs(~simple2lvl + condition, data=slow) %>%
prop.table(margin=2) %>%
as.data.frame() %>%
spread(condition, Freq)
tab<-cbind(fastTab,slowTab[2:5])
ntab<-cbind(fastTabN,slowTabN[2:5])
tab[2:9]  <- format(tab[2:9] * 100,nsmall=1,digits=1)
ntab[2:9] <- format(ntab[2:9],digits=0)
tab$m  <- "%"
ntab$m <- "n"
tab <- rbind(tab,ntab)
colnames(tab)[1] <- "Pattern"
colnames(tab)[6:9] <- paste0(colnames(tab)[6:9],".slow")
tab <- arrange(tab,Pattern)
r2data<-subset(adata,Reading==2)
fast <- subset(r2data,r1DelCat == "FAST")
slow <- subset(r2data,r1DelCat == "SLOW")
fastTabN <- xtabs(~simple2lvl + condition, data=fast) %>%
as.data.frame() %>%
spread(condition, Freq)
slowTabN <- xtabs(~simple2lvl + condition, data=slow) %>%
as.data.frame() %>%
spread(condition, Freq)
fastTab <- xtabs(~simple2lvl + condition, data=fast) %>%
prop.table(margin=2) %>%
as.data.frame() %>%
spread(condition, Freq)
slowTab <- xtabs(~simple2lvl + condition, data=slow) %>%
prop.table(margin=2) %>%
as.data.frame() %>%
spread(condition, Freq)
tab<-cbind(fastTab,slowTab[2:5])
ntab<-cbind(fastTabN,slowTabN[2:5])
tab[2:9]  <- format(tab[2:9] * 100,nsmall=1,digits=1)
ntab[2:9] <- format(ntab[2:9],digits=0)
tab$m  <- "%"
ntab$m <- "n"
tab <- rbind(tab,ntab)
colnames(tab)[1] <- "Pattern"
colnames(tab)[6:9] <- paste0(colnames(tab)[6:9],".slow")
tab <- arrange(tab,Pattern)
??arrange
library(dplyr)
r2data<-subset(adata,Reading==2)
fast <- subset(r2data,r1DelCat == "FAST")
slow <- subset(r2data,r1DelCat == "SLOW")
fastTabN <- xtabs(~simple2lvl + condition, data=fast) %>%
as.data.frame() %>%
spread(condition, Freq)
slowTabN <- xtabs(~simple2lvl + condition, data=slow) %>%
as.data.frame() %>%
spread(condition, Freq)
fastTab <- xtabs(~simple2lvl + condition, data=fast) %>%
prop.table(margin=2) %>%
as.data.frame() %>%
spread(condition, Freq)
slowTab <- xtabs(~simple2lvl + condition, data=slow) %>%
prop.table(margin=2) %>%
as.data.frame() %>%
spread(condition, Freq)
tab<-cbind(fastTab,slowTab[2:5])
ntab<-cbind(fastTabN,slowTabN[2:5])
tab[2:9]  <- format(tab[2:9] * 100,nsmall=1,digits=1)
ntab[2:9] <- format(ntab[2:9],digits=0)
tab$m  <- "%"
ntab$m <- "n"
tab <- rbind(tab,ntab)
colnames(tab)[1] <- "Pattern"
colnames(tab)[6:9] <- paste0(colnames(tab)[6:9],".slow")
tab <- arrange(tab,Pattern)
tab <- tab %>% select(Pattern,m,everything())
tab <- rbind(r1tab,tab)
tab %>% kable(
align="c",
caption="Simple break pattern by condition and R1 delay category",
col.names=c(" "," ", rep(c("D -GP","Q -GP", "D +GP", "Q +GP"),2)),
digits=1
) %>% kable_styling() %>%
column_spec(6,border_right = T) %>%
collapse_rows(columns = 1) %>%
add_header_above(c(" " = 2,"FAST (n=12)"=4,"SLOW (n=12)"=4)) %>%
pack_rows(index = c("Reading 1" = 6, "Reading 2" = 6))
xdata <- subset(adata,r1DelCat != "NORMAL")
r1df <- ftable(xtabs(~Participant + simple2lvl + r1DelCat, subset(xdata,Reading==1))) %>% as.data.frame
r2df <- ftable(xtabs(~Participant + simple2lvl + r1DelCat, subset(xdata,Reading==2))) %>% as.data.frame
dfs <- subset(r1df %>% spread(simple2lvl,Freq), BOTH + OBJ + PP1 > 0)
dfs <- cbind("r1"=dfs,"r2"=subset(r2df %>% spread(simple2lvl,Freq), BOTH + OBJ + PP1 > 0))
# just delete rows in df where all 3 freqs are 0
xdata <- subset(adata,r1DelCat != "NORMAL")
r1df <- ftable(xtabs(~Participant + simple2lvl + r1DelCat, subset(xdata,Reading==1))) %>% as.data.frame
r2df <- ftable(xtabs(~Participant + simple2lvl + r1DelCat, subset(xdata,Reading==2))) %>% as.data.frame
dfs <- subset(r1df %>% spread(simple2lvl,Freq), BOTH + OBJ + PP1 > 0)
dfs <- cbind("r1"=dfs,"r2"=subset(r2df %>% spread(simple2lvl,Freq), BOTH + OBJ + PP1 > 0))
dfs
dfs$deltaBOTH <- dfs$r1.BOTH - dfs$r2.BOTH
dfs$deltaBothCat <- ifelse(dfs$deltaBOTH > 0, "Increase",ifelse(dfs$deltaBOTH < 0,"Decrease","No change"))
dfs$deltaBothCat
table(dfs$r1.r1DelCat,dfs$deltaBothCat)
table(dfs$r1.r1DelCat,dfs$deltaBothCat) %>% kable %>% kable_styling(latex_options = c("hold_position"))
table(dfs$r1.r1DelCat,dfs$deltaBothCat) %>%
kable(caption="Number of participants who produced both breaks more often in R2 than R1 as a function of R1 delay category") %>%
kable_styling(latex_options = c("hold_position"))
?chisq
?chisq.test()
?chisq.test(table(dfs$r1.r1DelCat,dfs$deltaBothCat))
chisq.test(table(dfs$r1.r1DelCat,dfs$deltaBothCat))
d<-table(dfs$r1.r1DelCat,dfs$deltaBothCat)
d
d["FAST"]
d[1,]
chisq.test(d[1,])
chisq.test(d[1,],c(4,4,4))
xsqFast<-chisq.test(d[1,])
summary(xsqFast)
d[1,]
as.vector(d)[1,]
as.vector(d[1,])
xsqFast<-chisq.test(as.vectory(d[1,]))
xsqFast<-chisq.test(as.vector(d[1,]))
d[1,]
summary(xsqFast)
xsqFast
as.table(d)
as.matrix(d)
chisq.test(as.matrix(d))
x <- c(A = 20, B = 15, C = 25)
chisq.test(x)
chisq.test(as.table(x))             # the same
x <- c(89,37,30,28,2)
p <- c(40,20,20,15,5)
xsq<-chisq.test(as.matrix(d))
xsq
xsq$residuals
xsq$expected
xsq$observed
dfs$deltaBOTH
xdata <- subset(adata,r1DelCat != "NORMAL")
r1df <- ftable(xtabs(~Participant + simple2lvl + r1DelCat, subset(xdata,Reading==1))) %>% as.data.frame
r2df <- ftable(xtabs(~Participant + simple2lvl + r1DelCat, subset(xdata,Reading==2))) %>% as.data.frame
dfs <- subset(r1df %>% spread(simple2lvl,Freq), BOTH + OBJ + PP1 > 0)
dfs <- cbind("r1"=dfs,"r2"=subset(r2df %>% spread(simple2lvl,Freq), BOTH + OBJ + PP1 > 0))
dfs$deltaBOTH <- dfs$r1.BOTH - dfs$r2.BOTH
dfs$deltaBothCat <- ifelse(dfs$deltaBOTH > 0, "Decrease",ifelse(dfs$deltaBOTH < 0,"Increase","No change"))
xsq<-chisq.test(as.matrix(d))
xsq
d
xsq
xsqFast<-chisq.test(d[1,])
xsqFast
xsqFast$expected
xsqSlow<-chisq.test(d[2,])
xsqSlow
xsqSlow$expected
dfs
d
chisq.test(d)
lm(deltaBOTH ~ r1DelCat)
lm(deltaBOTH ~ r1DelCat,data=dfs)
dfs
lm(deltaBOTH ~ r1.r1DelCat,data=dfs)
mod<-lm(deltaBOTH ~ r1.r1DelCat,data=dfs)
summary(mod)
dfs
cat(dfs)
stat(dfs)
head(dfs)
head(dfs[1:4,7:11])
head(dfs[c(1:4,7:11)])
setwd("drafts/")
1380+1159+4
1380+1159+4+392+37+4
2543/(1380+1159+4+392+37+4)
1380/2976
(1380+392+2)/2976
1159+37
1196/2976
install.packages('cairo')
install.packages('Cairo')
knitr::opts_chunk$set(
echo = FALSE,
fig.height = 3,
message = FALSE,
warning = FALSE
)
library(readr)
library(jsonlite)
library(dplyr)
library(knitr)
library(kableExtra)
library(pander)
kable<-function (data,...){
if(is_html_output() | is_latex_output()) {
return (knitr::kable(data,...))
} else {
return (pander(data))
}
}
include_graphics(procedure-diagram.png)
include_graphics("procedure-diagram.png")
library(kableExtra)
knitr::opts_chunk$set(echo = F,warning = F,message=F)
library(readr)
library(stringr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(aspGroup,asp)
fnp <- fnp %>% arrange(aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:4])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
library(readr)
library(stringr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(aspGroup,asp)
fnp <- fnp %>% arrange(aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>% gather(key="version",value="text",-asp,-no,-aspGroup) %>% arrange(aspGroup,version,asp,no)
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(aspGroup,asp)
fnp <- fnp %>% arrange(aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>% gather(key="version",value="text",-asp,-no,-aspGroup) %>% arrange(aspGroup,version,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c(3:4)] %>%
kable(col.names=c("Version", "Text"),booktab=T,linesep = c("","\\addlinespace"),longtable=T,
caption="Filler items with trailing PPs") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
ppy
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(-aspGroup,asp)
fnp <- fnp %>% arrange(-aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>%
gather(key="version",value="text",-asp,-no,-aspGroup) %>%
arrange(-aspGroup,version,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c(3:4)] %>%
kable(col.names=c("Version", "Text"),booktab=T,linesep = c("","\\addlinespace"),longtable=T,
caption="Filler items with trailing PPs") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
ppy
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(-aspGroup,asp)
fnp <- fnp %>% arrange(-aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>%
gather(key="version",value="text",-asp,-no,-aspGroup) %>%
arrange(-aspGroup,version,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c("version","text")] %>%
kable(
col.names=c("Version", "Text"),
booktab=T,
linesep = c("","\\addlinespace"),
longtable=T,
caption="Filler items with trailing PPs"
) %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(-aspGroup,asp)
fnp <- fnp %>% arrange(-aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>%
gather(key="version",value="text",-asp,-no,-aspGroup) %>%
arrange(-aspGroup,version,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c("version","text")] %>%
kable(
format="latex"
col.names=c("Version", "Text"),
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(-aspGroup,asp)
fnp <- fnp %>% arrange(-aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>%
gather(key="version",value="text",-asp,-no,-aspGroup) %>%
arrange(-aspGroup,version,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c("version","text")] %>%
kable(
format="latex",
col.names=c("Version", "Text"),
booktab=T,
linesep = c("","\\addlinespace"),
longtable=T,
caption="Filler items with trailing PPs"
) %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
library(readr)
library(tidyr)
library(dplyr)
library(stringr)
library(kableExtra)
items <- read_csv("../csvs/src/exp-items.csv")
items$asp <- word(items$EDY,3)
items$v <- word(items$EDY,5)
names(items) <- c("no","D Arg","Q Arg","D Mod","Q Mod","asp","v")
fitems <- items %>% gather(key="version",value="text",-no,-asp,-v)
fitems$PP2Status <- word(fitems$version,2)
fitems <-  fitems %>% arrange(asp,v,PP2Status,text)
fitems[c(4:5)] %>%
kable(col.names=c("Version", "Text"), booktab=T, linesep = c("","","","\\addlinespace"), longtable=T,
caption="Experimental items in four versions") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
library(readr)
library(tidyr)
library(dplyr)
library(stringr)
library(kableExtra)
library(knitr)
items <- read_csv("../csvs/src/exp-items.csv")
items$asp <- word(items$EDY,3)
items$v <- word(items$EDY,5)
names(items) <- c("no","D Arg","Q Arg","D Mod","Q Mod","asp","v")
fitems <- items %>% gather(key="version",value="text",-no,-asp,-v)
fitems$PP2Status <- word(fitems$version,2)
fitems <-  fitems %>% arrange(asp,v,PP2Status,text)
fitems[c(4:5)] %>%
kable(col.names=c("Version", "Text"), booktab=T, linesep = c("","","","\\addlinespace"), longtable=T,
caption="Experimental items in four versions") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
library(readr)
library(tidyr)
library(dplyr)
library(stringr)
library(knitr)
library(kableExtra)
items <- read_csv("../csvs/src/exp-items.csv")
items$asp <- word(items$EDY,3)
items$v <- word(items$EDY,5)
names(items) <- c("no","D Arg","Q Arg","D Mod","Q Mod","asp","v")
fitems <- items %>% gather(key="version",value="text",-no,-asp,-v)
fitems$PP2Status <- word(fitems$version,2)
fitems <-  fitems %>% arrange(asp,v,PP2Status,text)
fitems[c(4:5)] %>%
kable(col.names=c("Version", "Text"), booktab=T, linesep = c("","","","\\addlinespace"), longtable=T,
caption="Experimental items in four versions") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(-aspGroup,asp)
fnp <- fnp %>% arrange(-aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>%
gather(key="version",value="text",-asp,-no,-aspGroup) %>%
arrange(-aspGroup,version,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c("version","text")] %>%
kable(
col.names=c("Version", "Text"),
booktab=T,
linesep = c("","\\addlinespace"),
longtable=T,
caption="Filler items with trailing PPs"
) %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
ppn<-subset(fitems,grepl("-PP",version))
ppn[c(3:4)]%>%
kable(col.names=c("Version", "Text"),booktab=T,linesep = c("","\\addlinespace"),longtable=T,
caption="Filler items with no trailing PPs") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
fitems
library(readr)
library(stringr)
library(tidyr)
fpp <- read_csv("../csvs/src/filler-items+pp.csv")
fnp <- read_csv("../csvs/src/filler-items-pp.csv")
fpp$asp <- word(fpp$FDY,3)
fnp$asp <- word(fnp$FDN,3)
fpp$aspGroup <-fpp$asp %in% c("wanted","planned","intended","wanted")
fnp$aspGroup <-fnp$asp %in% c("wanted","planned","intended","wanted")
fpp <- fpp %>% arrange(-aspGroup,asp)
fnp <- fnp %>% arrange(-aspGroup,asp)
items <- cbind(fpp[1:3],fnp[2:5])
names(items) <- c("no","+PP D","+PP Q","-PP D","-PP Q","asp","aspGroup")
fitems <- items %>%
gather(key="version",value="text",-asp,-no,-aspGroup) %>%
arrange(-aspGroup,asp,no)
ppy<-subset(fitems,grepl("+PP",version))
ppy[c("version","text")] %>%
kable(
col.names=c("Version", "Text"),
booktab=T,
linesep = c("","\\addlinespace"),
longtable=T,
caption="Filler items with trailing PPs"
) %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
fitems
ppy
ppn<-subset(fitems,grepl("-PP",version))
ppn[c(3:4)]%>%
kable(col.names=c("Version", "Text"),booktab=T,linesep = c("","\\addlinespace"),longtable=T,
caption="Filler items with no trailing PPs") %>%
kable_styling(latex_options = c("hold_position","repeat_header"))
include_graphics("arg-tree.png")
?include_graphics
include_graphics("arg-tree.png")
citr:::insert_citation()
citr:::insert_citation()
knitr::opts_chunk$set(
echo = FALSE,
fig.height = 3,
message = FALSE,
warning = FALSE
)
# automatically create a bib database for R packages
knitr::write_bib(c(
.packages(), 'bookdown', 'knitr', 'rmarkdown', "lme4", "lmerTest"
), 'packages.bib')
40*5
?library
library(readr)
knitr::opts_chunk$set(echo = F,warning=F,message=F)
data <- read_csv("../drafts/export/all_data.csv")
View(data)
library(readr)
library(lme4)
knitr::opts_chunk$set(echo = F,warning=F,message=F)
data <- read_csv("../drafts/export/all_data.csv")
library(readr)
library(lme4)
library(lmerTest)
knitr::opts_chunk$set(echo = F,warning=F,message=F)
data <- read_csv("../drafts/export/all_data.csv")
attach(data)
setwd("~/dissertation/drafts")
install.packages("tinytex")
tinytex::install_tinytex()
