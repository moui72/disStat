"0","knitr::opts_chunk$set(echo=FALSE, warning=FALSE, message=FALSE, fig.height = 3)"
"0",""
"0","library(readr)"
"0","library(psych)"
"0","library(dplyr)"
"2","
Attaching package: ‘dplyr’

"
"2","The following objects are masked from ‘package:stats’:

    filter, lag

"
"2","The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union

"
"0","library(tidyr)"
"0","library(knitr)"
"0","library(lme4)"
"2","Loading required package: Matrix
"
"2","
Attaching package: ‘Matrix’

"
"2","The following object is masked from ‘package:tidyr’:

    expand

"
"0","library(stargazer)"
"2","
Please cite as: 

"
"2"," Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
"
"2"," R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 

"
"0","library(kableExtra)"
"2","
Attaching package: ‘kableExtra’

"
"2","The following object is masked from ‘package:dplyr’:

    group_rows

"
"0","library(ggplot2)"
"2","
Attaching package: ‘ggplot2’

"
"2","The following objects are masked from ‘package:psych’:

    %+%, alpha

"
"0","library(ggthemes)"
"0","library(jsonlite)"
"0",""
"0","use_old <- FALSE"
"0","old<-""csvs/irt-rvad-4_11.csv"""
"0","new<-""csvs/irt-rvad-8k.csv"""
"0","raw_file <- read_csv(ifelse(use_old,old,new), "
"0","  col_types = cols("
"0","    Item = col_factor(levels = seq(1,48)), "
"0","    Participant = col_character()"
"0","  )"
"0",")"
"0",""
"0","irt_data <- raw_file"
"0",""
"0","# P 8 is messed up"
"0","irt_data<-subset(irt_data,Participant != 8)"
"0",""
"0","# counts"
"0","irt_data$Participant <- as.factor(irt_data$Participant)"
"0","irt_data$Participant <- relevel(irt_data$Participant,ref=9)"
"0","recs<-nrow(irt_data)"
"0","subjs<-length(levels(irt_data$Participant))"
"0","items<-length(levels(irt_data$Item))"
"0","  "
"0","irt_data$cond <- paste("
"0","  ifelse(irt_data$Condition_Q,""+Q"",""-Q""),"
"0","  ifelse("
"0","    irt_data$isFiller,"
"0","    ifelse(irt_data$Condition_GP,""+PP"",""-PP""),"
"0","    ifelse(irt_data$Condition_GP,""+GP"",""-GP"")"
"0","  )"
"0",")"
"0",""
"0","irt_data$Q <- ifelse("
"0","  irt_data$Condition_Q,"
"0","  ""+Q"","
"0","  ""-Q"""
"0",")"
"0","irt_data$GP <- ifelse("
"0","  irt_data$Condition_GP,"
"0","  ""+GP"","
"0","  ""-GP"""
"0",")"
"0",""
"0","# utterance lengths"
"0","if(!use_old){"
"0","  # only available in newer files"
"0","  uls <- append(irt_data$`R1 UL`,irt_data$`R2 UL`)"
"0","  uls_desc <- describe(uls)"
"0","  uls_r1_desc <- describe(irt_data$`R1 UL`)"
"0","  uls_r2_desc <- describe(irt_data$`R2 UL`)"
"0","}"
"0",""
"0","irt_props_all <- describe(irt_data$irt)"
"0","irt_data_all <- irt_data # data before trimming"
"0",""
"0","# exclude 250 < IRTs > 25000"
"0","irt_min <- 250"
"0","irt_max <- 25000"
"0",""
"0","irt_lo <- subset(irt_data, irt < irt_min)"
"0","irt_hi <- subset(irt_data, irt > irt_max)"
"0",""
"0","irt_data <- subset("
"0","  irt_data, "
"0","  irt > irt_min & irt < irt_max & !isFiller"
"0",")"
"0","irt_data$Participant<-relevel(irt_data$Participant,ref=5)"
"0","irt_data$Item<-relevel(irt_data$Item,ref=""1"")"
"0","# winsorize top/bottom 5% of data (for normal distrbution, this is +/- 2sd)"
"0","# see: https://sciencing.com/relationship-between-standard-deviations-percentiles-8768703.html"
"0","win_trim=0.05"
"0","irt_data <- irt_data %>% group_by(Participant) %>% mutate(win_irt = winsor(irt, trim=win_trim))"
"0",""
"0","# log 10 transform"
"0","irt_data$wirt.log10 <- log10(irt_data$win_irt)"
"0",""
"0","# means by condition"
"0","meansByConditionLong <- aggregate("
"0","  irt_data$win_irt,"
"0","  by=list("
"0","    ""Q""=irt_data$Q,"
"0","    ""GP""=irt_data$GP"
"0","  ),"
"0","  FUN=mean"
"0",") "
"0","meansByCondition <- meansByConditionLong %>% spread(Q,x) "
"0","names(meansByCondition)[1] <- ""Condition"""
"0","diffs<-list(Condition=""Increase"", `-Q`=diff(meansByCondition$`-Q`), `+Q`= diff(meansByCondition$`+Q`))"
"0","meansByCondition<-rbind(meansByCondition, diffs)"
"0","cdiff <- meansByCondition$`-Q`[3]-meansByCondition$`+Q`[3]"
"0",""
"0","# participant means by condition"
"0","pmeansByCondition <- aggregate("
"0","  irt_data$irt,"
"0","  by=list("
"0","    ""Condition""=irt_data$cond,"
"0","    ""Participant""=irt_data$Participant"
"0","  ),"
"0","  FUN=mean"
"0",") %>% spread(Condition,x) "
"0","pmeansByCondition$pattern <- ("
"0","  pmeansByCondition$`+Q +GP` - pmeansByCondition$`+Q -GP` <"
"0","  pmeansByCondition$`-Q +GP` - pmeansByCondition$`-Q -GP`"
"0",") "
"0",""
"0","# simple P means"
"0","spm <- aggregate("
"0","  irt_data$irt,"
"0","  by=list("
"0","    ""Participant""=irt_data$Participant"
"0","  ),"
"0","  FUN=mean"
"0",") "
"0",""
"0","json <- read_file(""meta-4_11.json"")"
"0","meta<-fromJSON(json)"
"0","irt_props <- describe(irt_data$irt)"
"0","wirt_props <- describe(irt_data$win_irt)"
